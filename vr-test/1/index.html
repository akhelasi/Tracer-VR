<!DOCTYPE html>
<html>
<head>
  <!-- Include A-Frame and A-Frame Physics System -->
  <!-- Include A-Frame -->
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <!-- Include A-Frame mobile support to improve performance on mobile devices -->
  <script src="https://aframe.io/releases/1.4.0/aframe-mobile.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
</head>

<body>
  <a-scene vr-mode-ui="enabled: true">
    <!-- Use the a-entity for the camera and set the position attribute -->
    <a-entity id="camera" camera look-controls position="0 5 0">
      <a-animation attribute="rotation" dur="10000" easing="linear" to="0 360 0" repeat="indefinite"></a-animation>
    </a-entity>

    <!-- Set the background color of the scene to black -->
    <a-sky color="#000000"></a-sky>
    <a-assets>
      <a-asset-item id="pixel" src="../vr-cavern.glb"></a-asset-item>
    </a-assets>

    <!-- Include your 3D model -->
    <a-entity gltf-model="#pixel"></a-entity>

    <!-- Event listener for enter-vr event
    <a-scene>
      <a-entity id="myEnterVRButton" position="0 1.6 -5" geometry="primitive: circle; radius: 0.2" material="color: #333" cursor-listener></a-entity>
    </a-scene> -->

    <script>
      const camera = document.getElementById('camera');
      let q = 0;
      let r = 10;

      function animate() {
        q += 0.01;

        let qSin = Math.sin(q);
        let qCos = Math.cos(q);

        let scaledCos = r * qCos;
        let scaledSin = r * qSin;

        camera.setAttribute('position', `${scaledCos} 5 ${scaledSin}`);

        // Call the animation loop recursively
        requestAnimationFrame(animate);
      }

      // Start the animation loop
      animate();

      // Event listener for enter-vr event
      document.querySelector('a-scene').addEventListener('enter-vr', function () {
        // Start the animation loop again after entering VR
        animate();
      });
    </script>
  </a-scene>
</body>
</html>
